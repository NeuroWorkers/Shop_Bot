# Shop_Bot

# Описание проекта
    ShopBot - проект для предпринимателей. Бот предназначен для работы с розничными и оптовыми магазинами у которых есть сайты, а также с интернет-магазинами.
<br>Основная задача, которую выполняет бот - консультирование пользователей по ассортименту товаров. В недрах кода использована технология RAG,
за счет которой, бот работает на релевантных данных, в случае их отсутствия бот может преподнести альтернативу. Бот сконфигурирован так, чтобы
ответы были дополнены комментариями, в случае наличия нескольких релевантных ответов, бот предложит все, в контексте сравнения или противопоставления.
Для коммерческой реализации проекта заказчику необходимо, лишь, предоставить весь ассортимент товаров в его магазине, а также регулярно обновлять сведения
об их наличии. Основная движущая сила данного проекта - библиотека "langchain", благодаря которой, в арсенале имеются как модель из OpenAI, так и все необходимое
для реализации RAG. Помимо этого, бот обладает "памятью", за счет чего вам не придется каждый раз составлять вопросы "с нуля", достаточно просто внести
уточнение в контекст.<br>Для ясного представления предназначения бота, был реализован одностраничный лендинг, в котором бот существует в качестве всплывающего
чата в правом нижнем углу страницы. Однако, по задумке, бот должен не только консультировать пользователей, но и предоставлять ссылки на релевантных товары. 
Данная функция реализуется в зависимости от конструктивных особенностей сайта заказчика, в данной реализации не предусмотрен бэкенд и система поиска по сайту,
поэтому ощутить все прелести задумки автора не представляется возможным. Помимо этого, добавлена логика логирования поведения лендинга и бота, для скорейшего
устранения багов.<br>
P.s. Лендинг был реализован только для десктопов, ввиду нехватки времени у автора, т.е. view был органичен до некоторого минимального значения.  

# Рекомендации по деплою
В проекте используется переменная окружения - ключ от openai_api, нужно в корневой директории проекта создать файл .env, добавить в нем такую переменную: OPENAI_API_KEY= и после знака равно вставить первый ключ из дока Валерия.
1) Необходимо склонировать репозиторий по этому адресу: https://github.com/NeuroWorkers/Shop_Bot.git
2) Откройте терминал и в корневой директории напишите: pip install -e . (Устанавливает зависимости). В случае если, по какой-то причине что-то
пошло не так, тогда необходимо ручками добавить в окружение Python Interpreter 3.11.0 и выполнить в терминале команду в корневой директории: pip install -r requirements.txt, 
либо воспользоваться средствами IDE и нажать кнопку Install requirements.
3) Далее ожидаете пока все не установиться.
4) Затем, переходим по пути: server/server.py в левом меню и запускаем выполнение этого файла. В нем содержиться сервер на flask.
5) Переходите по любому из URL адресов, которые появятся в окне Run, либо же в браузере в адресную строку вбиваете: http://127.0.0.1:5000.
<br><br>P.s. Модель работает только при наличии подключения через VPN. Подключение нужно обеспечить до запуска сервера на flask.

# Список вопросов боту
В данном списке, порой абсурдных вопросов, где-то без пунктуации, где-то без логики, я попытался отразить сущность потенциальных пользователей.
1) Расскажи про бананы
2) Давай про Эквадорские
3) Отлично, а в какую цену у вас груши?
4) Хорошо, а есть ли у вас кисло-сладкие фрукты?
5) Я хочу услышать про стулья
6) Что у вас есть из Италии?
7) Что есть самое дешевое?
8) Хочу что-то зеленое
9) Расскажи подробно про сыры хочу закупиться оптом
10) Сколько у вас есть бананов?
11) А сколько киви?
12) А какая сегодня погода?
13) Я просто хочу пикник устроить, какие продукты мне взять с собой?
14) А что ты думаешь насчет абрикосов?
15) Может быть еще взять мебель?
16) Лучше тогда расскажи про овощи
17) Я не знаю что хочу предложи что-нибудь
18) Give me info about tomatoes
19) (Расскажи что-нибудь про сыр) قل لي شيئا عن الجبن
20) У меня хороший день и точка.
21) Ты плохая, пока.
22) уцаотцуаоцзшутраищцщоуаиц

# Навигатор проекта 
Папка "bot" содержит реализацию бота и всего того, что с ним связано.<br>
bot/data - данные от заказчика.<br>
bot/logs - логи проекта.<br>
bot/src - все о боте.<br>
bot/src/config - конфигурация переменных проекта.<br>
bot/src/rag_model - реализация модели.<br> 
bot/src/retriever - реализация векторизации.<br>
bot/src/utils - различные вспомогательные функции.<br>

Папка "server" содержит реализацию лендинга.<br>
server/static - статические файлы проекта, которые не изменяются во время выполнения проекта<br>
server/static/imgs - папка с изображениями для лендинга.<br>
server/static/script - скрипты лендинга.<br>
server/static/style - стили лендинга.<br>
server/templates/index - разметка лендинга.<br>
server/server - реализация сервера на flask.<br>

/.env - файл с переменными окружения.<br>
/pyproject.toml - файл с настройками IDE.<br>
/requirements.txt - файл с необходимыми версиями модулей.